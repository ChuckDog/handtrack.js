(this["webpackJsonpHandtrack.js"]=this["webpackJsonpHandtrack.js"]||[]).push([[0],{293:function(e,t,s){},294:function(e,t,s){},296:function(e,t,s){},302:function(e,t,s){},307:function(e,t){},308:function(e,t){},316:function(e,t){},319:function(e,t){},320:function(e,t){},321:function(e,t,s){"use strict";s.r(t);var n=s(30),a=s(246),i=s.n(a),r=s(202),c=(s(293),s(189)),l=s(46),o=(s(294),s(17)),d=function(){return Object(o.jsx)("div",{className:"border-gray-200 text-gray-600   text-sm border-l-0 border-r-0 border-b-0  border w-full",children:Object(o.jsxs)("div",{style:{zIndex:999e3},className:" container-fluid   w-full p-2",children:["Made with ",Object(o.jsx)("span",{className:"pr-2",children:"\u2764\ufe0f"})," by"," ",Object(o.jsx)("a",{href:"https://www.victordibia.com/",target:"blank",children:"Victor Dibia"})," "]})})},h=(s(296),function(){var e="Handtracking in Javascript.",t=[{label:"demo",url:"/"},{label:"docs",url:"/docs"}].map((function(e,t){return Object(o.jsx)("div",{className:"navbarlinks h-full flex flex-col mr-3  text-sm justify-center ",children:Object(o.jsx)("span",{className:"text-white cursor-pointer font-semibold rounded   ",children:Object(o.jsx)(c.b,{exact:!0,to:e.url,children:e.label})})},"navrow"+t)}));return Object(o.jsxs)("div",{className:"h-52 -mb-20 bg-indigo-600 related",children:[Object(o.jsx)("div",{className:"absolute w-full bg-indigo-700",children:Object(o.jsx)("div",{className:"headermain  w-full container-fluid   border-l-0 border-r-0 border-t-0 border-gray-100 border-opacity-20 pt-2 pb-1 ","aria-label":e,children:Object(o.jsx)("div",{className:"  w-full  container-fluid   headerrow  ",children:Object(o.jsxs)("div",{className:"flex  h-full",children:[Object(o.jsx)("div",{className:"h-full   flex flex-col justify-center mr-2 ml-2  ",children:Object(o.jsx)("a",{href:"/handtrack.js/#",children:Object(o.jsx)("img",{className:"h-8 w-8",src:"/handtrack.js/images/logo.png",alt:e})})}),Object(o.jsx)("div",{className:"apptitle  flex flex-col justify-center  mr-1",children:Object(o.jsxs)("div",{className:"text-white  font-semibold text-sm  iblock mr-2 ml-1",children:[" ","Handtrack.js"," "]})}),t]})})})}),Object(o.jsx)("div",{className:"headerboost",children:" "})]})}),u=s(3),m=s.n(u),b=s(11),j=s(6),x=(s(302),function(e){var t=e.icon,s=e.color,n=void 0===s?null:s,a=e.size,i=void 0===a?5:a,r=" text-"+n+"-500",c=" h-"+i+" w-"+i+" ";return"cart"===t.toLowerCase()||"catalog"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:"mr-1 inline h-4 w-4 transition duration-100 ",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M7.441 7h-2.882l4.701-4.702c.198-.198.459-.298.72-.298.613 0 1.02.505 1.02 1.029 0 .25-.092.504-.299.711l-3.26 3.26zm9.118 0h2.883l-4.702-4.702c-.198-.198-.459-.298-.72-.298-.613 0-1.02.505-1.02 1.029 0 .25.092.504.299.711l3.26 3.26zm-16.559 2v2h.643c.577 0 1.061.299 1.343 1h20.03c.28-.699.766-1 1.343-1h.641v-2h-24zm21.213 5h-18.425l1.204 3h16.016l1.205-3zm-16.417 5l1.204 3h12l1.205-3h-14.409z"})})}):"loading"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:"mr-1 inline h-5 w-6 animate-spin  transition duration-100",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm8 12c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-19 0c0-6.065 4.935-11 11-11v2c-4.962 0-9 4.038-9 9 0 2.481 1.009 4.731 2.639 6.361l-1.414 1.414.015.014c-2-1.994-3.24-4.749-3.24-7.789z"})})}):"check"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:" mr-1 inline h-5 w-5  transition duration-100 "+r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M5.48 10.089l1.583-1.464c1.854.896 3.028 1.578 5.11 3.063 3.916-4.442 6.503-6.696 11.311-9.688l.516 1.186c-3.965 3.46-6.87 7.314-11.051 14.814-2.579-3.038-4.301-4.974-7.469-7.911zm14.407.557c.067.443.113.893.113 1.354 0 4.962-4.038 9-9 9s-9-4.038-9-9 4.038-9 9-9c1.971 0 3.79.644 5.274 1.723.521-.446 1.052-.881 1.6-1.303-1.884-1.511-4.271-2.42-6.874-2.42-6.075 0-11 4.925-11 11s4.925 11 11 11 11-4.925 11-11c0-1.179-.19-2.313-.534-3.378-.528.633-1.052 1.305-1.579 2.024z"})})}):"video"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:" mr-1 inline transition duration-100 "+r+c,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M16 16c0 1.104-.896 2-2 2h-12c-1.104 0-2-.896-2-2v-8c0-1.104.896-2 2-2h12c1.104 0 2 .896 2 2v8zm8-10l-6 4.223v3.554l6 4.223v-12z"})})}):"github"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:" mr-1 inline  transition duration-100 "+r+c,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}):"rightarrow"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:" mr-1 inline  transition duration-100 "+r+c,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M6.028 0v6.425l5.549 5.575-5.549 5.575v6.425l11.944-12z"})})}):"rocket"===t.toLowerCase()?Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:" mr-1 inline h-6 w-6  transition duration-100 "+r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M8.566 17.842c-.945 2.462-3.678 4.012-6.563 4.161.139-2.772 1.684-5.608 4.209-6.563l.51.521c-1.534 1.523-2.061 2.765-2.144 3.461.704-.085 2.006-.608 3.483-2.096l.505.516zm-1.136-11.342c-1.778-.01-4.062.911-5.766 2.614-.65.649-1.222 1.408-1.664 2.258 1.538-1.163 3.228-1.485 5.147-.408.566-1.494 1.32-3.014 2.283-4.464zm5.204 17.5c.852-.44 1.61-1.013 2.261-1.664 1.708-1.706 2.622-4.001 2.604-5.782-1.575 1.03-3.125 1.772-4.466 2.296 1.077 1.92.764 3.614-.399 5.15zm11.312-23.956c-.428-.03-.848-.044-1.261-.044-9.338 0-14.465 7.426-16.101 13.009l4.428 4.428c5.78-1.855 12.988-6.777 12.988-15.993v-.059c-.002-.437-.019-.884-.054-1.341zm-5.946 7.956c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"})})}):Object(o.jsx)("span",{children:Object(o.jsx)("svg",{"aria-hidden":"true",className:"mr-1 inline h8 w-8 transition duration-100 ",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(o.jsx)("path",{d:"M12.819 14.427c.064.267.077.679-.021.948-.128.351-.381.528-.754.528h-.637v-2.12h.496c.474 0 .803.173.916.644zm3.091-8.65c2.047-.479 4.805.279 6.09 1.179-1.494-1.997-5.23-5.708-7.432-6.882 1.157 1.168 1.563 4.235 1.342 5.703zm-7.457 7.955h-.546v.943h.546c.235 0 .467-.027.576-.227.067-.123.067-.366 0-.489-.109-.198-.341-.227-.576-.227zm13.547-2.732v13h-20v-24h8.409c4.858 0 3.334 8 3.334 8 3.011-.745 8.257-.42 8.257 3zm-12.108 2.761c-.16-.484-.606-.761-1.224-.761h-1.668v3.686h.907v-1.277h.761c.619 0 1.064-.277 1.224-.763.094-.292.094-.597 0-.885zm3.407-.303c-.297-.299-.711-.458-1.199-.458h-1.599v3.686h1.599c.537 0 .961-.181 1.262-.535.554-.659.586-2.035-.063-2.693zm3.701-.458h-2.628v3.686h.907v-1.472h1.49v-.732h-1.49v-.698h1.721v-.784z"})})})}),p=s(5),f=s(10),v=s(76),O=s(139),g={flipHorizontal:!1,outputStride:16,imageScaleFactor:1,maxNumBoxes:20,iouThreshold:.2,scoreThreshold:.6,modelType:"ssd320fpnlite",modelSize:"base",bboxLineWidth:"2",fontSize:14},w={open:"#374151",closed:"#B91C1C",pinch:"#F59E0B",point:"#10B981",face:"#3B82F6",tip:"#6366F1",pinchtip:"#EC4899"},N={1:"open",2:"closed",3:"pinch",4:"point",5:"face",6:"tip",7:"pinchtip"},y=["StatefulPartitionedCall/Postprocessor/Slice","StatefulPartitionedCall/Postprocessor/ExpandDims_1"],k="0.0.2";function z(e){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(m.a.mark((function e(t){var s,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object.assign({},g,t),n=new C(s),e.next=4,n.load();case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.localStream){e.next=4;break}window.localStream.getTracks().forEach((function(e){return e.stop(),!0})),e.next=5;break;case 4:return e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){function e(t){Object(p.a)(this,e),this.modelPath="webmodel/"+t.modelType+"/"+t.modelSize+"/model.json ",this.modelParams=t}return Object(f.a)(e,[{key:"load",value:function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fps=0,e.next=3,Object(O.a)(this.modelPath);case 3:return this.model=e.sent,e.next=6,this.model.executeAsync(v.i([1,300,300,3],"int32"));case 6:(t=e.sent).map(function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.map(function(){var e=Object(b.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispose());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("model loaded and warmed up.");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"detect",value:function(){var e=Object(b.a)(m.a.mark((function e(t){var s,n,a,i,r,c,l,o,d,h=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Date.now(),n=T(t),a=Object(j.a)(n,2),i=a[0],r=a[1],c=B(this.modelParams.imageScaleFactor,i,this.modelParams.outputStride),l=B(this.modelParams.imageScaleFactor,r,this.modelParams.outputStride),o=v.h((function(){var e=v.b.fromPixels(t);return h.modelParams.flipHorizontal?e.reverse(1).resizeBilinear([c,l]).expandDims(0).toInt():e.resizeBilinear([c,l]).expandDims(0).toInt()})),d=this,e.abrupt("return",this.model.executeAsync(o,y).then((function(e){var t=e[0].dataSync(),n=e[1].dataSync();o.dispose(),v.c(e);var a=E(t,e[0].shape[1],e[0].shape[2]),c=Object(j.a)(a,2),l=c[0],h=c[1],u=v.d();v.f("cpu");var m=v.h((function(){var t=v.g(n,[e[1].shape[1],e[1].shape[3]]);return v.e.nonMaxSuppression(t,l,d.modelParams.maxNumBoxes,d.modelParams.iouThreshold,d.modelParams.scoreThreshold)})),b=m.dataSync();m.dispose(),v.f(u);var x=d.buildDetectedObjects(r,i,n,l,b,h),p=Date.now();return d.fps=Math.round(1e3/(p-s)),x})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"buildDetectedObjects",value:function(e,t,s,n,a,i){for(var r=a.length,c=[],l=0;l<r;l++){for(var o=[],d=0;d<4;d++)o[d]=s[4*a[l]+d];var h=o[0]*t,u=o[1]*e,m=o[2]*t,b=o[3]*e;o[0]=u,o[1]=h,o[2]=b-u,o[3]=m-h;var j=Math.round(i[a[l]])+1;c.push({bbox:o,class:j,label:N[j],score:n[a[l]].toFixed(2)})}return c}},{key:"getFPS",value:function(){return this.fps}},{key:"setModelParameters",value:function(e){this.modelParams=Object.assign({},this.modelParams,e)}},{key:"getModelParameters",value:function(){return this.modelParams}},{key:"roundRect",value:function(e,t,s,n,a,i,r,c){if("undefined"===typeof c&&(c=!0),"undefined"===typeof i&&(i=5),"number"===typeof i)i={tl:i,tr:i,br:i,bl:i};else{var l={tl:0,tr:0,br:0,bl:0};for(var o in l)i[o]=i[o]||l[o]}e.beginPath(),e.moveTo(t+i.tl,s),e.lineTo(t+n-i.tr,s),e.quadraticCurveTo(t+n,s,t+n,s+i.tr),e.lineTo(t+n,s+a-i.br),e.quadraticCurveTo(t+n,s+a,t+n-i.br,s+a),e.lineTo(t+i.bl,s+a),e.quadraticCurveTo(t,s+a,t,s+a-i.bl),e.lineTo(t,s+i.tl),e.quadraticCurveTo(t,s,t+i.tl,s),e.closePath(),r&&e.fill(),c&&e.stroke()}},{key:"renderPredictions",value:function(e,t,s,n){s.clearRect(0,0,t.width,t.height),t.width=n.width,t.height=n.height,t.style.height=parseInt(t.style.width)*(n.height/n.width).toFixed(2)+"px",s.save(),this.modelParams.flipHorizontal&&(s.scale(-1,1),s.translate(-n.width,0)),s.drawImage(n,0,0,n.width,n.height),s.restore(),s.font="bold "+this.modelParams.fontSize+"px Arial";for(var a=0;a<e.length;a++){var i=e[a];s.beginPath(),s.fillStyle="rgba(255, 255, 255, 0.6)",s.fillRect(i.bbox[0]+1,i.bbox[1]+1,i.bbox[2]-1,1.5*this.modelParams.fontSize),s.lineWidth=this.modelParams.bboxLineWidth,this.roundRect(s,i.bbox[0],i.bbox[1],i.bbox[2],i.bbox[3],5,!1,!0),s.strokeStyle=w[i.label],s.fillStyle=w[i.label],s.fillRect(i.bbox[0]+i.bbox[2]/2,i.bbox[1]+i.bbox[3]/2,5,5),s.stroke(),s.fillText(i.score+" | "+i.label,i.bbox[0]+5,i.bbox[1]+1.1*this.modelParams.fontSize)}s.font="bold "+this.modelParams.fontSize+"px Arial",s.fillText("[FPS]: "+this.fps,10,20)}},{key:"dispose",value:function(){this.model&&this.model.dispose()}}]),e}();function B(e,t,s){var n=t*e-1;return n-n%s+1}function T(e){return e instanceof v.a?[e.shape[0],e.shape[1]]:[e.height,e.width]}function E(e,t,s){for(var n=[],a=[],i=0;i<t;i++){for(var r=Number.MIN_VALUE,c=-1,l=0;l<s;l++)e[i*s+l]>r&&(r=e[i*s+l],c=l);n[i]=r,a[i]=c}return[n,a]}var F=!1,I=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),s=t[0],a=t[1],i=Object(n.useState)(0),r=Object(j.a)(i,2),c=r[0],l=r[1],d=Object(n.useState)(!1),h=Object(j.a)(d,2),u=h[0],p=h[1],f=Object(n.useState)(null),v=Object(j.a)(f,2),O=v[0],g=v[1],N=Object(n.useState)(null),y=Object(j.a)(N,2),S=y[0],C=y[1],B=Object(n.useState)(null),T=Object(j.a)(B,2),E=T[0],I=T[1],M=Object(n.useState)(null),H=Object(j.a)(M,2),L=H[0],D=H[1],A=Object(n.useState)(!1),W=Object(j.a)(A,2),R=W[0],q=W[1],J=function(e){s.detect(e).then((function(t){s.renderPredictions(t,S,E,e)}))};Object(n.useEffect)((function(){z().then((function(e){a(e)}));var e=document.getElementById("outputcanvas");C(e),I(e.getContext("2d")),D(document.getElementById("videoel"))}),[]),Object(n.useEffect)((function(){var e=document.getElementById("inputholder");s&&E&&S&&s.detect(e).then((function(t){s.renderPredictions(t,S,E,e)}))}),[s,E,S]),Object(n.useEffect)((function(){return function(){s&&console.log("model cleaned up")}}),[s]);for(var U=[],V=0;V<10;V++)U.push(V);var _=function(e){var t=document.getElementById("inputholder");t.src=e.target.src,J(t),l(e.target.getAttribute("imageid")),K()},G=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.detect(L);case 2:t=e.sent,s.renderPredictions(t,S,E,L),F&&requestAnimationFrame((function(){G()}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){(R||F)&&(!function(){P.apply(this,arguments)}(L),q(!1),F=!1)},Q=Object.keys(w).map((function(e,t){return Object(o.jsxs)("div",{className:"text-xs inline  ",children:[Object(o.jsxs)("span",{style:{borderBottom:"3px solid "+w[e]},className:"p-1 inline-block mb-1 font-semibold bg-white rounded rounded-b-none    px-2",children:[" ",e]})," "]},"poserow"+t)})),X=U.slice(0,10).map((function(e,t){return Object(o.jsx)("div",{className:"inline-block  ",children:Object(o.jsx)("img",{imageid:t,alt:"sample of hands",onClick:_,className:"rounded shadow transition duration-800 border-4 border-l-0 border-r-0 border-t-0 border-white "+(s?" cursor-pointer  ":"grayscale pointer-events-none")+(t+""===c+""?" border-4 border-l-0 border-r-0 border-t-0 border-indigo-500 ":" "),style:{objectFit:"cover",height:"100px",width:"100%"},src:"images/samples/"+t+".jpg"})},"imgrow"+t)}));return Object(o.jsxs)("div",{className:"-mb-10   relative",children:[Object(o.jsx)("div",{className:"absolute w-full   z-10 ",children:Object(o.jsxs)("div",{className:"container-fluid px-4  text-white",children:[Object(o.jsxs)("div",{className:"flex flex-row",children:[Object(o.jsxs)("div",{className:"flex-grow  flex flex-row  mr-3",children:[Object(o.jsx)("div",{className:"h-20  mr-4",children:Object(o.jsx)("img",{className:"min-h-content  w-20",src:"/handtrack.js/images/logo.png",alt:"logo"})}),Object(o.jsxs)("div",{className:"  ",children:[Object(o.jsxs)("div",{className:"text-3xl font-semibold",children:[" ","Handtrack.js"," ",Object(o.jsxs)("span",{className:"text-sm",children:["v",k]})]}),Object(o.jsxs)("div",{className:"mt-2",children:[" ","A library for prototyping hand tracking in Javascript. In the browser."," "]})]})]}),Object(o.jsx)("div",{className:"w-96 -mt-2 bg-indigo-800 shadow-xl rounded text-sm p-3 px-5",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:" relative inline-flex mr-1 rounded-full h-3 w-3 bg-red-500"}),Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:"relative inline-flex mr-1 rounded-full h-3 w-3 bg-yellow-500"}),Object(o.jsx)("span",{children:Object(o.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})})]})]}),Object(o.jsxs)("span",{className:"ml-2 font-semibold ",children:["New in v",k]}),Object(o.jsxs)("div",{className:"mt-3",children:[" ","\u2192 6 new hand pose tags added (open, closed, ..)."]}),Object(o.jsx)("div",{className:"mt-1",children:"\u2192 3 model accuracy blocks - small, medium, large."}),Object(o.jsx)("div",{className:"mt-1 mb-2",children:"\u2192 Smaller model weight files, faster load time!"})]})})]}),!s&&Object(o.jsxs)("div",{className:"",children:[" ",Object(o.jsx)(x,{icon:"loading"})," ",Object(o.jsx)("span",{className:"text-sm",children:"loading handtrack model .."})," "]}),s&&Object(o.jsxs)("div",{className:"-mt-6",children:[Object(o.jsxs)("button",{disabled:u,onClick:function(e){R?(K(),setTimeout((function(){E.clearRect(0,0,S.width,S.height),J(document.getElementById("inputholder"))}),300)):(p(!0),function(e){return e.width=e.width||640,e.height=e.width*(e.videoHeight/e.videoWidth),e.style.height="20px",new Promise((function(t,s){navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user"}}).then((function(s){window.localStream=s,e.srcObject=s,e.onloadedmetadata=function(){e.height=e.width*(e.videoHeight/e.videoWidth),e.style.height=parseInt(e.style.width)*(e.videoHeight/e.videoWidth).toFixed(2)+"px",e.play(),t({status:!0,msg:"webcam successfully initiated."})}})).catch((function(e){t({status:!1,msg:e})}))}))}(L).then((function(e){console.log("video started",e),p(!1),e.status?(g(e),F=!0,q(!0),G()):g(e)})))},className:(R?" ring-4 ":" ")+" shadow-2xl  transition duration-500 group  cursor-pointer  hover:bg-green-500 bg-green-400   rounded  inline-block",children:[Object(o.jsxs)("div",{className:(R?"bg-white  ":" bg-indigo-800 ")+" inline-block transition duration-1000  p-2   pl-3 border-opacity-70 border-indigo-200 rounded-r-none border rounded ",children:[!R&&!u&&Object(o.jsx)(x,{icon:"video",size:4}),u&&Object(o.jsx)(x,{icon:"loading",size:4}),R&&Object(o.jsx)("div",{className:"h-3 w-3 inline-block mr-1",children:Object(o.jsxs)("span",{className:"flex h-3 w-3 relative  ",children:[Object(o.jsx)("span",{className:"animate-ping absolute  inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),Object(o.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})})]}),Object(o.jsx)("span",{className:"p-2  pr-4 inline-block transition duration-500 agroup-hover:translate-x-2 transform  ml-1 text-sm",children:"Detect hands from Webcam"})," "]}),Object(o.jsxs)("span",{className:"block text-xs mt-2",children:["Try it on your own webcam video in realtime!",O&&!O.status&&Object(o.jsxs)("span",{className:" block text-red-500 mt-1 ",children:[JSON.stringify(O.msg.message),". Please ensure you have granted webcampermission is granted to video element."]})]})]})]})}),Object(o.jsx)("div",{className:" h-72  z-0 w-full   bg-indigo-600  transform -skew-y-3"}),Object(o.jsxs)("div",{className:"absolute z-0 w-full  -mt-24     ",children:[Object(o.jsx)("div",{className:"container-fluid px-4 text-white pb-3 text-sm",children:" "}),Object(o.jsxs)("div",{className:"container-fluid px-4  flex flex-row",children:[Object(o.jsxs)("div",{className:" flex-grow mr-4 rounded  ",children:[Object(o.jsxs)("div",{className:" bg-indigo-50 p-3 rounded  min-h-content  ",children:[Object(o.jsx)("div",{className:"mb-2",children:Object(o.jsx)("div",{className:"text-gray-600 text-sm",children:"Select an image below to run live detection."})}),Object(o.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[" ",X]})]}),Object(o.jsx)("div",{className:"mt-3 rounded ",children:Object(o.jsx)("div",{className:" text-white bg-indigo-800 shadow-xl rounded text-sm p-3 px-5",children:Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:" relative inline-flex mr-1 rounded-full h-3 w-3 bg-red-500"}),Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:"relative inline-flex mr-1 rounded-full h-3 w-3 bg-yellow-500"}),Object(o.jsx)("span",{children:Object(o.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})})]})]}),Object(o.jsx)("span",{className:"ml-2 font-semibold ",children:"Use Handtrack | 3 lines of code"}),Object(o.jsxs)("div",{className:"mt-3",children:[" ",Object(o.jsx)("span",{className:"text-yellow-400",children:"import"})," *"," ",Object(o.jsx)("span",{className:"text-yellow-400",children:"as"})," handTrack"," ",Object(o.jsx)("span",{className:"text-yellow-400",children:"from"})," ",Object(o.jsx)("span",{className:"text-green-300",children:"'handtrackjs"}),"';"]}),Object(o.jsxs)("div",{className:"mt-1",children:[Object(o.jsx)("span",{className:"text-yellow-400",children:"const"})," model ="," ",Object(o.jsx)("span",{className:"text-yellow-400",children:"await"})," handTrack.",Object(o.jsx)("span",{className:"text-yellow-400",children:"load"}),"()"]}),Object(o.jsxs)("div",{className:"mt-1 mb-2",children:[Object(o.jsx)("span",{className:"text-yellow-400",children:"const"})," predictions ="," ",Object(o.jsx)("span",{className:"text-yellow-400",children:"await"})," model.",Object(o.jsx)("span",{className:"text-yellow-400",children:"detect"}),"(img)"]})]})})})]}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"transition ease-in duration-700 bg-indigo-50 p-3 rounded relative",children:[Object(o.jsx)("div",{className:"  mb-2 rounded-sm  ",children:Q}),Object(o.jsx)("div",{className:"hidden",style:{minWidth:"400px",minHeight:"100px"},children:Object(o.jsx)("video",{className:"rounded  ",style:{width:"400px",height:"350px"},autoPlay:"autoplay",id:"videoel"})}),Object(o.jsxs)("div",{className:"z-10 relative",children:[!s&&Object(o.jsxs)("div",{className:"text-gray-600 text-sm absolute border w-full h-full   flex justify-center items-center",children:[" ",Object(o.jsxs)("div",{className:"px-4",children:[" ",Object(o.jsx)(x,{icon:"loading"})," loading handtrack model .."," "]})]}),Object(o.jsx)("canvas",{className:" rounded  transition duration-500 ",style:{width:"400px",height:"350px"},id:"outputcanvas"})]})]})})]}),Object(o.jsx)("img",{id:"inputholder",alt:"hidden holder for larger version of samples.",src:"images/samples/0.jpg",className:"hidden",style:{width:"400px",height:"350px"}})]})]})},M=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),s=t[0],a=t[1],i=Object(n.useState)(null),r=Object(j.a)(i,2),c=r[0],l=r[1],d=Object(n.useState)(null),h=Object(j.a)(d,2),u=h[0],m=h[1];return Object(n.useEffect)((function(){z().then((function(e){a(e)}));var e=document.getElementById("outputcanvas");l(e),m(e.getContext("2d"))}),[]),Object(n.useEffect)((function(){var e=document.getElementById("inputholder");s&&u&&c&&s.detect(e).then((function(t){s.renderPredictions(t,c,u,e)}))}),[s,u,c]),Object(n.useEffect)((function(){return function(){s&&console.log("model cleaned up")}}),[s]),Object(o.jsx)("div",{className:"-mb-10   relative",children:Object(o.jsx)("div",{className:"absolute w-full   z-10 ",children:Object(o.jsx)("div",{className:"container-fluid px-4  text-white",children:Object(o.jsxs)("div",{className:"absolute z-0 w-full        ",children:[!s&&Object(o.jsx)("div",{children:" loading model .. "}),Object(o.jsx)("canvas",{className:" rounded  transition duration-500 ",style:{width:"400px",height:"350px"},id:"outputcanvas"}),Object(o.jsx)("img",{id:"inputholder",alt:"hidden holder for larger version of samples.",src:"images/samples/0.jpg",className:"hidden",style:{width:"400px",height:"350px"}})]})})})})};var H=function(){return Object(o.jsx)(c.a,{children:Object(o.jsxs)("div",{className:"flex   flex-col   h-screen ",children:[Object(o.jsx)(h,{}),Object(o.jsxs)("main",{className:"  w-full flex-grow ",children:[Object(o.jsx)(l.a,{exact:!0,path:"/",render:function(e){return Object(o.jsx)(I,Object(r.a)({},e))}}),Object(o.jsx)(l.a,{exact:!0,path:"/simple",render:function(e){return Object(o.jsx)(M,Object(r.a)({},e))}})]}),Object(o.jsx)(d,{})]})})},L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,322)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};i.a.render(Object(o.jsx)(H,{}),document.getElementById("root")),L()}},[[321,1,2]]]);
//# sourceMappingURL=main.0563c4ba.chunk.js.map